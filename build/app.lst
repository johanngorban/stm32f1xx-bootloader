ARM GAS  /var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"app.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Application/source/app.c"
  18              		.section	.rodata.menu_entries,"a"
  19              		.align	2
  22              	menu_entries:
  23 0000 3F00     		.ascii	"?\000"
  24 0002 00000000 		.space	30
  24      00000000 
  24      00000000 
  24      00000000 
  24      00000000 
  25 0020 44697370 		.ascii	"Display menu\000"
  25      6C617920 
  25      6D656E75 
  25      00
  26 002d 00000000 		.space	115
  26      00000000 
  26      00000000 
  26      00000000 
  26      00000000 
  27 00a0 00000000 		.word	helpCommand
  28 00a4 5265626F 		.ascii	"Reboot\000"
  28      6F7400
  29 00ab 00000000 		.space	25
  29      00000000 
  29      00000000 
  29      00000000 
  29      00000000 
  30 00c4 5265626F 		.ascii	"Reboot system\000"
  30      6F742073 
  30      79737465 
  30      6D00
  31 00d2 00000000 		.space	114
  31      00000000 
  31      00000000 
  31      00000000 
  31      00000000 
  32 0144 00000000 		.word	rebootSystem
  33              		.section	.text.app_init,"ax",%progbits
  34              		.align	1
  35              		.global	app_init
  36              		.syntax unified
ARM GAS  /var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s 			page 2


  37              		.thumb
  38              		.thumb_func
  40              	app_init:
  41              	.LFB65:
   1:Application/source/app.c **** #include "app.h"
   2:Application/source/app.c **** #include "menu.h"
   3:Application/source/app.c **** #include "menu_handlers.h"
   4:Application/source/app.c **** #include "console.h"
   5:Application/source/app.c **** #include <string.h>
   6:Application/source/app.c **** 
   7:Application/source/app.c **** const static menu_entry_t menu_entries[] = {
   8:Application/source/app.c ****     {"?", "Display menu", helpCommand},
   9:Application/source/app.c ****     {"Reboot", "Reboot system", rebootSystem},
  10:Application/source/app.c **** };
  11:Application/source/app.c **** 
  12:Application/source/app.c **** // static app_context_t *appContext = NULL;
  13:Application/source/app.c **** 
  14:Application/source/app.c **** void app_init(const app_context_t *ctx) {
  42              		.loc 1 14 41
  43              		.cfi_startproc
  44              		@ args = 0, pretend = 0, frame = 8
  45              		@ frame_needed = 1, uses_anonymous_args = 0
  46 0000 80B5     		push	{r7, lr}
  47              	.LCFI0:
  48              		.cfi_def_cfa_offset 8
  49              		.cfi_offset 7, -8
  50              		.cfi_offset 14, -4
  51 0002 82B0     		sub	sp, sp, #8
  52              	.LCFI1:
  53              		.cfi_def_cfa_offset 16
  54 0004 00AF     		add	r7, sp, #0
  55              	.LCFI2:
  56              		.cfi_def_cfa_register 7
  57 0006 7860     		str	r0, [r7, #4]
  15:Application/source/app.c ****     if (ctx == NULL) {
  58              		.loc 1 15 8
  59 0008 7B68     		ldr	r3, [r7, #4]
  60 000a 002B     		cmp	r3, #0
  61 000c 0AD0     		beq	.L4
  16:Application/source/app.c ****         return;
  17:Application/source/app.c ****     }
  18:Application/source/app.c **** 
  19:Application/source/app.c ****     console_init(ctx->consoleUart);    
  62              		.loc 1 19 21
  63 000e 7B68     		ldr	r3, [r7, #4]
  64 0010 1B68     		ldr	r3, [r3]
  65              		.loc 1 19 5
  66 0012 1846     		mov	r0, r3
  67 0014 FFF7FEFF 		bl	console_init
  20:Application/source/app.c ****     menu_init(menu_entries, 2, unknownCommand);
  68              		.loc 1 20 5
  69 0018 044A     		ldr	r2, .L5
  70 001a 0221     		movs	r1, #2
  71 001c 0448     		ldr	r0, .L5+4
  72 001e FFF7FEFF 		bl	menu_init
  73 0022 00E0     		b	.L1
  74              	.L4:
ARM GAS  /var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s 			page 3


  16:Application/source/app.c ****         return;
  75              		.loc 1 16 9
  76 0024 00BF     		nop
  77              	.L1:
  21:Application/source/app.c **** }
  78              		.loc 1 21 1
  79 0026 0837     		adds	r7, r7, #8
  80              	.LCFI3:
  81              		.cfi_def_cfa_offset 8
  82 0028 BD46     		mov	sp, r7
  83              	.LCFI4:
  84              		.cfi_def_cfa_register 13
  85              		@ sp needed
  86 002a 80BD     		pop	{r7, pc}
  87              	.L6:
  88              		.align	2
  89              	.L5:
  90 002c 00000000 		.word	unknownCommand
  91 0030 00000000 		.word	menu_entries
  92              		.cfi_endproc
  93              	.LFE65:
  95              		.section	.text.app_start,"ax",%progbits
  96              		.align	1
  97              		.global	app_start
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 102              	app_start:
 103              	.LFB66:
  22:Application/source/app.c **** 
  23:Application/source/app.c **** void app_start() {
 104              		.loc 1 23 18
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 136
 107              		@ frame_needed = 1, uses_anonymous_args = 0
 108 0000 80B5     		push	{r7, lr}
 109              	.LCFI5:
 110              		.cfi_def_cfa_offset 8
 111              		.cfi_offset 7, -8
 112              		.cfi_offset 14, -4
 113 0002 A2B0     		sub	sp, sp, #136
 114              	.LCFI6:
 115              		.cfi_def_cfa_offset 144
 116 0004 00AF     		add	r7, sp, #0
 117              	.LCFI7:
 118              		.cfi_def_cfa_register 7
  24:Application/source/app.c ****     char consoleInput[CONSOLE_MAX_INPUT_DATA_LENGTH];
  25:Application/source/app.c ****     memset(consoleInput, 0, CONSOLE_MAX_INPUT_DATA_LENGTH);
 119              		.loc 1 25 5
 120 0006 3B1D     		adds	r3, r7, #4
 121 0008 8022     		movs	r2, #128
 122 000a 0021     		movs	r1, #0
 123 000c 1846     		mov	r0, r3
 124 000e FFF7FEFF 		bl	memset
 125              	.L9:
 126              	.LBB2:
  26:Application/source/app.c **** 
ARM GAS  /var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s 			page 4


  27:Application/source/app.c ****     while(1) {
  28:Application/source/app.c ****         HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
 127              		.loc 1 28 9
 128 0012 4FF40051 		mov	r1, #8192
 129 0016 0B48     		ldr	r0, .L10
 130 0018 FFF7FEFF 		bl	HAL_GPIO_TogglePin
  29:Application/source/app.c ****         HAL_Delay(500);
 131              		.loc 1 29 9
 132 001c 4FF4FA70 		mov	r0, #500
 133 0020 FFF7FEFF 		bl	HAL_Delay
  30:Application/source/app.c **** 
  31:Application/source/app.c ****         uint8_t bytesReceived = console_read(consoleInput);
 134              		.loc 1 31 33
 135 0024 3B1D     		adds	r3, r7, #4
 136 0026 1846     		mov	r0, r3
 137 0028 FFF7FEFF 		bl	console_read
 138 002c 0346     		mov	r3, r0
 139 002e 87F88730 		strb	r3, [r7, #135]
  32:Application/source/app.c ****         if (bytesReceived > 0) {
 140              		.loc 1 32 12
 141 0032 97F88730 		ldrb	r3, [r7, #135]	@ zero_extendqisi2
 142 0036 002B     		cmp	r3, #0
 143 0038 EBD0     		beq	.L9
  33:Application/source/app.c ****             menu_execute(consoleInput);
 144              		.loc 1 33 13
 145 003a 3B1D     		adds	r3, r7, #4
 146 003c 1846     		mov	r0, r3
 147 003e FFF7FEFF 		bl	menu_execute
 148              	.LBE2:
  27:Application/source/app.c ****         HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
 149              		.loc 1 27 14
 150 0042 E6E7     		b	.L9
 151              	.L11:
 152              		.align	2
 153              	.L10:
 154 0044 00100140 		.word	1073811456
 155              		.cfi_endproc
 156              	.LFE66:
 158              		.text
 159              	.Letext0:
 160              		.file 2 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 161              		.file 3 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 162              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 163              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 164              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 165              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 166              		.file 8 "Application/include/app.h"
 167              		.file 9 "Application/include/menu.h"
 168              		.file 10 "Application/include/console.h"
 169              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 170              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 171              		.file 13 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/string.h"
 172              		.file 14 "Application/include/menu_handlers.h"
ARM GAS  /var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 app.c
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:19     .rodata.menu_entries:00000000 $d
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:22     .rodata.menu_entries:00000000 menu_entries
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:34     .text.app_init:00000000 $t
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:40     .text.app_init:00000000 app_init
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:90     .text.app_init:0000002c $d
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:96     .text.app_start:00000000 $t
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:102    .text.app_start:00000000 app_start
/var/folders/sb/5wbx477s1bdgzdppd6ypx7ym0000gn/T//ccqTWMLx.s:154    .text.app_start:00000044 $d

UNDEFINED SYMBOLS
helpCommand
rebootSystem
console_init
menu_init
unknownCommand
memset
HAL_GPIO_TogglePin
HAL_Delay
console_read
menu_execute
